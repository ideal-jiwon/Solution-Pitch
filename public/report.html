<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>HOME</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <script defer src="js/chatbot.js"></script>
    <script defer src="js/map.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcqraspdA5PdAI6mZQTElHBEkDRK0KY5A&libraries=places&callback=initMap"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
    <body>
        <div id="header-container"></div> <!-- HEADER -->
        
        <main>
            
                <div class="googlesummary">  
                    <div id="map"></div>
                
                    <div id="manual-search">
                        <h3>Search My Business</h3>
                        <input type="text" id="b-name" placeholder="Business Name">
                        <input type="text" id="b-address" placeholder="Address">
                        <input type="text" id="b-city" placeholder="City">
                        <input type="text" id="b-state" placeholder="State">
                        <input type="text" id="b-postal" placeholder="Postal Code">
                        <button onclick="searchBusiness()">Search</button>
                    </div>
                </div>
                
                <h2 id="business-name"></h2>
                <div id="sentiment-distribution"></div>
                <div id="review-characteristics" class="review-visuals-container"></div>
        
                <div id="restaurant-rank"></div>

        <div class="comparison-summary">
            <div id="strengths" class="card-section"></div>
            <div id="weaknesses" class="card-section"></div>
        </div>

        <canvas id="category-comparison-chart"></canvas>

        <div class="sentiment-chart">
            <h3>ðŸ“ˆ How Strongly Do People Feel About Your Business?</h3>
            <div class="sentiment-chart-wrapper">
                <canvas id="ratings-chart"></canvas>
                <div id="sentiment-insight" class="sentiment-summary-text"></div>
            </div>
        </div>

        <div id="analysis-result"></div>

        <div id="shop-upload-section">
            <label for="shop-image"> Upload your shop photo here</label>
            <p>If you want more LIKES on Social Media, see what you can improve!</p>
            <input type="file" id="shop-image" accept="image/*" />
            <br>
            <button onclick="submitImage()">ðŸ“· Analyze</button>
            <div id="photo-analysis-result"></div>
        </div>

        <button id="chat-toggle-button">ðŸ’¬</button>
        <div id="chatbot-container" class="hidden">
            <h3>Send your tasks to Apple Reminder</h3>
            <div id="chatbox">
                <div id="chat-messages"></div>
                <input type="text" id="chat-input" 
                       placeholder="If you have any tasks, please type here!
                                    It will be sent to your apple reminder"/>
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>

        <div id="loading-indicator">
            <div class="spinner"></div>
            <p>Analyzing reviews... Hang tight!</p>
        </div>

        </main>
        <script src="js/header.js"></script> 
        <script defer src="js/analysis.js"></script>
</body>
</html>
