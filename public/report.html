<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>HOME</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="css/styles.css"/>
    <script defer src="js/chatbot.js"></script>
    <script defer src="js/map.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcqraspdA5PdAI6mZQTElHBEkDRK0KY5A&libraries=places&callback=initMap"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
    <body>
        <div id="header-container"></div> <!-- í—¤ë”ê°€ ì—¬ê¸°ì— ì‚½ìž…ë¨ -->
        
        <main>
            <fieldset class="report-search">
                <div id="manual-search">
                    <input type="text" id="b-name" placeholder="Business Name">
                    <input type="text" id="b-address" placeholder="Address">
                    <input type="text" id="b-city" placeholder="City">
                    <input type="text" id="b-state" placeholder="State">
                    <input type="text" id="b-postal" placeholder="Postal Code">
                    <button onclick="searchBusiness()">Search My Business</button>
                </div>
            <div class = "googlesummary">  
                <div id="map"></div>            
                <h2 id="business-name"></h2> 
            <div id="summary"> 
                <h3>Report Summary</h3>
                <label>Date Range:</label>
                <input type="date" id="start-date"> - <input type = "date" id="end-date">
                
                <h4>Ratings</h4>
                <p>Service: <span id="service-rating">-</span></p>
                <p>Price: <span id="price-rating">-</span></p>
                <p>Menu: <span id="menu-rating">-</span></p>
                <p>Location: <span id="location-rating">-</span></p>
                <p>Ambiance: <span id="ambiance-rating">-</span></p>
            </div>
        </div>  
        
        <!-- ðŸ”¹ Azure OpenAI ë¶„ì„ ê²°ê³¼ í‘œì‹œ -->
        <div id="analysis-container">
            <h3>AI Analysis</h3>
            <label for="business-id-input">Test with Business ID:</label>
            <input type="text" id="business-id-input" placeholder="Enter Business ID"/>
            <button onclick="fetchFromInput()">Analyze</button>
            <p id="analysis-result">Analysis will be displayed here after fetching data.</p>
        </div>

        <!-- ðŸ”¹ Chatbot UI ì¶”ê°€ -->
        <div id="chatbot-container">
            <h3>Ask Ratatuoile</h3>
            <div id="chatbox">
                <div id="chat-messages"></div>
                <input type="text" id="chat-input" placeholder="Ask about the restaurant...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
        
        <div id="review-characteristics" class="review-visuals-container"></div>
        <div id="sentiment-distribution"></div>
        <div id="restaurant-rank"></div>

        <div class="comparison-summary">
            <div id="strengths" class="card-section"></div>
            <div id="weaknesses" class="card-section"></div>
        </div>
        <canvas id="category-comparison-chart"></canvas>
        <canvas id="ratings-chart"></canvas>


        <label for="shop-image">ðŸ“· Upload your shop photo:</label>
        <input type="file" id="shop-image" accept="image/*" />
        <button onclick="submitImage()">Analyze</button>
        <div id="photo-analysis-result"></div>

        </fieldset>
        </main>
        <script src="js/header.js"></script> 
        <script defer src="js/analysis.js"></script>
</body>
</html>